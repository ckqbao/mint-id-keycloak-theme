"use strict";(self.webpackChunkmint_id=self.webpackChunkmint_id||[]).push([[9279],{59279:function(e,s,r){r.r(s),r.d(s,{default:function(){return v}});var a=r(1413),t=r(4942),i=r(70885),l=r(72791),o=r(66055),n=r(87107),c=r(61134),d=r(71027),u=r(44695),m=r(56836),p=r(80184);function v(e){var s,r,v,f,k,h,N,x,C,g,j,y,w,b,Z,F,W,I,E,G,_=e.kcContext,q=e.i18n,z=e.doUseDefaultCss,A=e.Template,S=e.classes,D=(0,l.useRef)(null),T=(0,l.useState)(!1),B=(0,i.Z)(T,2),L=B[0],P=B[1],U=(0,n.v)({doUseDefaultCss:z,classes:S}).getClassName,R=_.url,H=_.messagesPerField,M=_.realm,O=_.passwordRequired,V=_.recaptchaRequired,K=_.recaptchaSiteKey,Q=q.msg,X=q.msgStr,Y=M.registrationEmailAsUsername,J=(0,d.Q)({kcContext:_,i18n:q}),$=J.attributesWithPassword,ee=J.formValidationState.fieldStateByAttributeName,se=$.find((function(e){return"organizationName"===e.name})),re=(0,l.useMemo)((function(){return m.Ry({firstName:m.Z_().required(X("error-empty")),lastName:m.Z_().required(X("error-empty")),organizationName:m.Z_(),email:m.Z_().email(X("error-invalid-email")).required(X("error-empty")),username:Y?m.Z_():m.Z_().required(X("error-empty")),password:m.Z_().required(X("error-empty")),"password-confirm":m.Z_().required(X("error-empty")).oneOf([m.iH("password")],"Your passwords do not match.")})}),[Y]),ae=(0,c.cI)({defaultValues:{firstName:null!==(s=null===(r=ee.firstName)||void 0===r?void 0:r.value)&&void 0!==s?s:"",lastName:null!==(v=null===(f=ee.lastName)||void 0===f?void 0:f.value)&&void 0!==v?v:"",organizationName:null!==(k=null===(h=ee.organizationName)||void 0===h?void 0:h.value)&&void 0!==k?k:"",email:null!==(N=null===(x=ee.email)||void 0===x?void 0:x.value)&&void 0!==N?N:"",username:Y?void 0:null!==(C=null===(g=ee.username)||void 0===g?void 0:g.value)&&void 0!==C?C:"",password:"","password-confirm":""},resolver:(0,u.X)(re)}),te=ae.formState,ie=te.errors,le=te.isDirty,oe=ae.handleSubmit,ne=ae.register,ce=ae.unregister;(0,l.useEffect)((function(){var e=new MutationObserver((function(e,s){var r=document.querySelector("a#terms-of-use"),a=document.querySelector("a#privacy-policy");r&&a&&(r.setAttribute("href","/nutzungsbedingungen"),r.setAttribute("target","_blank"),r.style.color="#252131",r.style.fontWeight="bold",r.style.textDecoration="underline",r.innerHTML=X("termsTitle"),a.setAttribute("href","/datenschutz"),a.setAttribute("target","_blank"),a.style.color="#252131",a.style.fontWeight="bold",a.style.textDecoration="underline",a.innerHTML=X("privacyPolicyTitle"),s.disconnect())}));return e.observe(document,{attributes:!0,childList:!0,subtree:!0}),document.body.classList.add("register"),function(){e.disconnect(),document.body.classList.remove("register")}}),[]),(0,l.useEffect)((function(){Y?ce("username"):ne("username")}),[Y,ne,ce]);return(0,p.jsx)(A,{kcContext:_,i18n:q,doUseDefaultCss:z,classes:S,displayInfo:!0,headerNode:Q("registerTitle"),infoNode:(0,p.jsx)("div",{id:"back-to-login",children:(0,p.jsxs)("span",{children:[Q("alreadyHaveAccount"),(0,p.jsx)("a",{href:R.loginUrl,className:"kc-link ml-2",children:Q("doLogIn")})]})}),children:(0,p.jsxs)("form",{id:"kc-register-form",className:U("kcFormClass"),onSubmit:oe((function(e,s){null===s||void 0===s||s.target.submit()})),action:R.registrationAction,method:"post",children:[(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("firstName",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie.firstName)),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("firstName")),{},{type:"text",id:"firstName",className:(0,o.W)(U("kcInputClass"),"w-full"),placeholder:X("firstName")+"*"}))})}),(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("lastName",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie.lastName)),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("lastName")),{},{type:"text",id:"lastName",className:(0,o.W)(U("kcInputClass"),"w-full"),placeholder:X("lastName")+"*"}))})}),!!se&&(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("organizationName",U("kcFormGroupErrorClass"))),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("organizationName")),{},{type:"text",id:"organizationName",className:(0,o.W)(U("kcInputClass"),"w-full"),placeholder:X("organizationName")}))})}),(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("email",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie.email)),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("email")),{},{type:"text",id:"email",className:(0,o.W)(U("kcInputClass"),"w-full"),autoComplete:"email",placeholder:X("email")+"*"}))})}),!M.registrationEmailAsUsername&&(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("username",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie.username)),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("username")),{},{type:"text",id:"username",className:(0,o.W)(U("kcInputClass"),"w-full"),name:"username",defaultValue:"",autoComplete:"username",placeholder:X("username")+"*"}))})}),O&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("password",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie.password)),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("password")),{},{type:"password",id:"password",className:(0,o.W)(U("kcInputClass"),"w-full"),autoComplete:"new-password",placeholder:X("password")+"*"}))})}),(0,p.jsx)("div",{className:(0,o.W)(U("kcFormGroupClass"),H.printIfExists("password-confirm",U("kcFormGroupErrorClass")),(0,t.Z)({},U("kcFormGroupErrorClass"),!!ie["password-confirm"])),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("password-confirm")),{},{type:"password",id:"password-confirm",className:(0,o.W)(U("kcInputClass"),"w-full"),placeholder:X("passwordConfirm")+"*"}))})})]}),(0,p.jsx)("div",{className:U("kcFormGroupClass"),children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsxs)("div",{id:"kc-agreement",children:[(0,p.jsx)("div",{children:(0,p.jsx)("input",{id:"agreement",name:"agreement",type:"checkbox",checked:L,onChange:function(e){return P(e.target.checked)},required:le&&!Object.keys(ie).length})}),(0,p.jsx)("div",{children:(0,p.jsxs)("label",{ref:D,htmlFor:"agreement",children:[Q("registerTermsAgreement")," ",Q("registerPrivacyPolicyAgreement")]})})]})})}),V&&(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)("div",{className:U("kcInputWrapperClass"),children:(0,p.jsx)("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":K})})}),!!Object.keys(ie).length&&(0,p.jsx)("div",{className:"kcFormError",children:null!==(j=null!==(y=null!==(w=null!==(b=null!==(Z=null===(F=ie.firstName)||void 0===F?void 0:F.message)&&void 0!==Z?Z:null===(W=ie.lastName)||void 0===W?void 0:W.message)&&void 0!==b?b:null===(I=ie.email)||void 0===I?void 0:I.message)&&void 0!==w?w:null===(E=ie.password)||void 0===E?void 0:E.message)&&void 0!==y?y:null===(G=ie["password-confirm"])||void 0===G?void 0:G.message)&&void 0!==j?j:""}),(0,p.jsx)("div",{className:U("kcFormGroupClass"),children:(0,p.jsxs)("div",{id:"kc-form-buttons",className:U("kcFormButtonsClass"),children:[(0,p.jsx)("button",{className:(0,o.W)(U("kcButtonClass"),U("kcButtonPrimaryClass")),id:"kc-register",type:"submit",children:X("doRegister")}),(0,p.jsx)("button",{className:(0,o.W)(U("kcButtonClass"),U("kcButtonDefaultClass")),onClick:function(){return window.history.back()},children:X("doCancel")})]})})]})})}}}]);
//# sourceMappingURL=9279.7ef0ca33.chunk.js.map