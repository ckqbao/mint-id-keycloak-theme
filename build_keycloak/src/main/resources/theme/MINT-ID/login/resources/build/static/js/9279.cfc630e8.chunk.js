"use strict";(self.webpackChunkmint_id=self.webpackChunkmint_id||[]).push([[9279],{59279:function(e,s,r){r.r(s),r.d(s,{default:function(){return v}});var a=r(1413),t=r(4942),i=r(70885),l=r(72791),o=r(66055),n=r(87107),c=r(61134),d=r(71027),u=r(44695),m=r(56836),p=r(80184);function v(e){var s,r,v,f,k,h,N,x,y,C,g,j,b,w,I,W,Z,F,E,G,A=e.kcContext,z=e.i18n,T=e.doUseDefaultCss,_=e.Template,q=e.classes,S=(0,l.useRef)(null),P=(0,l.useState)(!1),D=(0,i.Z)(P,2),M=D[0],L=D[1],B=(0,n.v)({doUseDefaultCss:T,classes:q}).getClassName,H=A.url,U=A.messagesPerField,R=A.realm,O=A.passwordRequired,V=A.recaptchaRequired,K=A.recaptchaSiteKey,Q=z.msg,X=z.msgStr,Y=R.registrationEmailAsUsername,J=(0,d.Q)({kcContext:A,i18n:z}),$=J.attributesWithPassword,ee=J.formValidationState.fieldStateByAttributeName,se=$.find((function(e){return"organizationName"===e.name})),re=(0,l.useMemo)((function(){return m.Ry({firstName:m.Z_().required(X("error-empty")),lastName:m.Z_().required(X("error-empty")),organizationName:m.Z_(),email:m.Z_().email(X("error-invalid-email")).required(X("error-empty")),username:Y?m.Z_():m.Z_().required(X("error-empty")),password:m.Z_().required(X("error-empty")),"password-confirm":m.Z_().required(X("error-empty")).oneOf([m.iH("password")],"Your passwords do not match.")})}),[Y]),ae=(0,c.cI)({defaultValues:{firstName:null!==(s=null===(r=ee.firstName)||void 0===r?void 0:r.value)&&void 0!==s?s:"",lastName:null!==(v=null===(f=ee.lastName)||void 0===f?void 0:f.value)&&void 0!==v?v:"",organizationName:null!==(k=null===(h=ee.organizationName)||void 0===h?void 0:h.value)&&void 0!==k?k:"",email:null!==(N=null===(x=ee.email)||void 0===x?void 0:x.value)&&void 0!==N?N:"",username:Y?void 0:null!==(y=null===(C=ee.username)||void 0===C?void 0:C.value)&&void 0!==y?y:"",password:"","password-confirm":""},resolver:(0,u.X)(re)}),te=ae.formState,ie=te.errors,le=te.isDirty,oe=ae.handleSubmit,ne=ae.register,ce=ae.unregister;(0,l.useEffect)((function(){var e=new MutationObserver((function(e,s){var r=document.querySelector("a#terms-of-use"),a=document.querySelector("a#MINT-ID-privacy-policy"),t=document.querySelector("a#MINTcampus-privacy-policy"),i=document.querySelector("a#MINTvernetzt-privacy-policy");r&&a&&t&&i&&(r.setAttribute("href","/nutzungsbedingungen"),r.setAttribute("target","_blank"),r.style.color="#252131",r.style.fontWeight="bold",r.style.textDecoration="underline",r.innerHTML=X("termsTitle"),a.setAttribute("href","/datenschutz"),a.setAttribute("target","_blank"),a.style.color="#252131",a.style.fontWeight="bold",a.style.textDecoration="underline",a.innerHTML=X("mintIdPrivacyPolicyTitle"),t.setAttribute("href","/datenschutzerklaerung"),t.setAttribute("target","_blank"),t.style.color="#252131",t.style.fontWeight="bold",t.style.textDecoration="underline",t.innerHTML=X("mintCampusPrivacyPolicyTitle"),i.setAttribute("href","/privacy-policy-community-platform"),i.setAttribute("target","_blank"),i.style.color="#252131",i.style.fontWeight="bold",i.style.textDecoration="underline",i.innerHTML=X("mintVernetztPrivacyPolicyTitle"),s.disconnect())}));return e.observe(document,{attributes:!0,childList:!0,subtree:!0}),document.body.classList.add("register"),function(){e.disconnect(),document.body.classList.remove("register")}}),[]),(0,l.useEffect)((function(){Y?ce("username"):ne("username")}),[Y,ne,ce]);return(0,p.jsx)(_,{kcContext:A,i18n:z,doUseDefaultCss:T,classes:q,displayInfo:!0,headerNode:Q("registerTitle"),infoNode:(0,p.jsx)("div",{id:"back-to-login",className:"flex items-center justify-center !p-0",children:(0,p.jsxs)("span",{className:"text-lg",children:[Q("alreadyHaveAccount"),(0,p.jsx)("a",{href:H.loginUrl,className:"kc-link ml-2 ",children:Q("doLogIn")})]})}),children:(0,p.jsxs)("form",{id:"kc-register-form",className:B("kcFormClass"),onSubmit:oe((function(e,s){null===s||void 0===s||s.target.submit()})),action:H.registrationAction,method:"post",children:[(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("firstName",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie.firstName)),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("firstName")),{},{type:"text",id:"firstName",className:(0,o.W)(B("kcInputClass"),"w-full"),placeholder:X("firstName")+"*"}))})}),(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("lastName",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie.lastName)),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("lastName")),{},{type:"text",id:"lastName",className:(0,o.W)(B("kcInputClass"),"w-full"),placeholder:X("lastName")+"*"}))})}),!!se&&(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("organizationName",B("kcFormGroupErrorClass"))),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("organizationName")),{},{type:"text",id:"organizationName",className:(0,o.W)(B("kcInputClass"),"w-full"),placeholder:X("organizationName")}))})}),(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("email",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie.email)),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("email")),{},{type:"text",id:"email",className:(0,o.W)(B("kcInputClass"),"w-full"),autoComplete:"email",placeholder:X("email")+"*"}))})}),!R.registrationEmailAsUsername&&(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("username",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie.username)),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("username")),{},{type:"text",id:"username",className:(0,o.W)(B("kcInputClass"),"w-full"),name:"username",defaultValue:"",autoComplete:"username",placeholder:X("username")+"*"}))})}),O&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("password",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie.password)),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("password")),{},{type:"password",id:"password",className:(0,o.W)(B("kcInputClass"),"w-full"),autoComplete:"new-password",placeholder:X("password")+"*"}))})}),(0,p.jsx)("div",{className:(0,o.W)(B("kcFormGroupClass"),U.printIfExists("password-confirm",B("kcFormGroupErrorClass")),(0,t.Z)({},B("kcFormGroupErrorClass"),!!ie["password-confirm"])),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},ne("password-confirm")),{},{type:"password",id:"password-confirm",className:(0,o.W)(B("kcInputClass"),"w-full"),placeholder:X("passwordConfirm")+"*"}))})})]}),(0,p.jsx)("div",{className:B("kcFormGroupClass"),children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsxs)("div",{id:"kc-agreement",children:[(0,p.jsx)("div",{children:(0,p.jsx)("input",{id:"agreement",name:"agreement",type:"checkbox",checked:M,onChange:function(e){return L(e.target.checked)},required:le&&!Object.keys(ie).length})}),(0,p.jsx)("div",{children:(0,p.jsxs)("label",{ref:S,htmlFor:"agreement",children:["* ",Q("registerTermsAgreement")," ",Q("registerPrivacyPolicyAgreement")]})})]})})}),V&&(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)("div",{className:B("kcInputWrapperClass"),children:(0,p.jsx)("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":K})})}),!!Object.keys(ie).length&&(0,p.jsx)("div",{className:"kcFormError",children:null!==(g=null!==(j=null!==(b=null!==(w=null!==(I=null===(W=ie.firstName)||void 0===W?void 0:W.message)&&void 0!==I?I:null===(Z=ie.lastName)||void 0===Z?void 0:Z.message)&&void 0!==w?w:null===(F=ie.email)||void 0===F?void 0:F.message)&&void 0!==b?b:null===(E=ie.password)||void 0===E?void 0:E.message)&&void 0!==j?j:null===(G=ie["password-confirm"])||void 0===G?void 0:G.message)&&void 0!==g?g:""}),(0,p.jsx)("div",{className:B("kcFormGroupClass"),children:(0,p.jsxs)("div",{id:"kc-form-buttons",className:B("kcFormButtonsClass"),children:[(0,p.jsx)("button",{className:(0,o.W)(B("kcButtonClass"),B("kcButtonPrimaryClass")),id:"kc-register",type:"submit",children:X("doRegister")}),(0,p.jsx)("button",{className:(0,o.W)(B("kcButtonClass"),B("kcButtonDefaultClass")),onClick:function(){return window.history.back()},children:X("doCancel")})]})})]})})}}}]);
//# sourceMappingURL=9279.cfc630e8.chunk.js.map